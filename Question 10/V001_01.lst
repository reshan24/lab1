MP2COD 2.50, COFF to COD File Converter
Copyright (c) 2001 Microchip Technology Inc.
Listing File Generated: Mon Jan 21 10:03:17 2002


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ;        Software License Agreement				    ;                                     D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; The software supplied herewith by Microchip Technology 	    ;                  D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; Incorporated (the “Company”) for its PICmicro® Microcontroller is ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; intended and supplied to you, the Company’s customer, for use     ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; solely and exclusively on Microchip PICmicro Microcontroller	    ;             D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; products. The software is owned by the Company and/or its         ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; supplier, and is protected under applicable copyright laws. All   ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; rights are reserved. Any use in violation of the foregoing 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; restrictions may subject the user to criminal sanctions under	    ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; applicable laws, as well as to civil liability for the breach of  ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; the terms and conditions of this license.			    ;                              D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES, ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A 	    ;             D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.		    ;                       D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; A Simple Task Manager v1.00 by Ross Fosler 			    ;                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; This is the start-up routine for the task manager.		    ;                      D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	#include <define.inc>                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;        Software License Agreement				    ;                                     D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The software supplied herewith by Microchip Technology 	    ;                  D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Incorporated (the “Company”) for its PICmicro® Microcontroller is ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; intended and supplied to you, the Company’s customer, for use     ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; solely and exclusively on Microchip PICmicro Microcontroller	    ;             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; products. The software is owned by the Company and/or its         ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; supplier, and is protected under applicable copyright laws. All   ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; rights are reserved. Any use in violation of the foregoing 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; restrictions may subject the user to criminal sanctions under	    ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; applicable laws, as well as to civil liability for the breach of  ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; the terms and conditions of this license.			    ;                              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES, ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A 	    ;             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.		    ;                       D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; A Simple Task Manager v1.00 by Ross Fosler  			    ;                           D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; This is a definition file used to incorporate tasks and 	    ;                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; priorities at the start of the task manager.			    ;                           D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The values after corispond to the position in the hardware stack               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; used by the tasks.  Position 0 is not valid since it is set to                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; always return a 0x0000 (reset).                                                D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK1	0x01                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK2	0x08                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK3	0x10                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK4	0x18                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The following defines the time allotted to the preloaded tasks.                D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The value 0x00 corisponds to a null task; values 0x01 through 0x3F             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; set the max allowed time for the task to run before it is                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; interrupted.                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK1_TIME	0x3F                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK2_TIME	0x02                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK3_TIME	0x00                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK4_TIME	0x00                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The following defines the names of the preloaded tasks.  Uncomment             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; or comment these as necessary for preloaded tasks.  There must                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; be at least one task to pre-load.                                              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK1_NAME	Task1                                                         D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK2_NAME	Task2                                                         D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;#DEFINE	TASK3_NAME	Task3Name                                                    D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;#DEFINE	TASK4_NAME	Task4Name                                                    D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; This value affects the task time.  Valid range from 0x00 to 0x07.              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TIMER_PRESCALE	0x04                                                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Set the name of the interrupt handler.  Comment out if none.                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;#DEFINE INT_HAND_NAME	InterruptHandler                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Set the name of the setup routine.  Comment out if none.                       D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SETUP_NAME	Setup                                                         D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Setup the SFRs to be managed by the task manager.  Comment out the             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; registers that are not shared across more than one task.  It is best           D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; to comment out as many as possible to reduce memory usage and                  D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; task manager execution length.                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR0H                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR0L                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR1H                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR1L                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR2H                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR2L                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_PRODH                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_PRODL                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_BSR                                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TBLPTRU                                                             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TBLPTRH                                                             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TBLPTRL                                                             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TABLAT                                                              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Setup the specific processor file to use.                                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	PROC_INCLUDE	P18C452.INC                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Uncomment if the device has the lfsr bug.                                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	LFSR_BUG                                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           	                                                                                D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           	#include PROC_INCLUDE		; Processor include file                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                   LIST                                                                     D:\HDMD\APPNOTES\PIC_OS~1\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.10   Microchip Technology, Inc.   D:\HDMD\APPNOTES\PIC_OS~1\P18C452.INC
                                                   LIST                                                                     D:\HDMD\APPNOTES\PIC_OS~1\P18C452.INC
                                           	#include <var.inc>                                                              D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ;        Software License Agreement				    ;                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; The software supplied herewith by Microchip Technology 	    ;                  D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; Incorporated (the “Company”) for its PICmicro® Microcontroller is ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; intended and supplied to you, the Company’s customer, for use     ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; solely and exclusively on Microchip PICmicro Microcontroller	    ;             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; products. The software is owned by the Company and/or its         ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; supplier, and is protected under applicable copyright laws. All   ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; rights are reserved. Any use in violation of the foregoing 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; restrictions may subject the user to criminal sanctions under	    ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; applicable laws, as well as to civil liability for the breach of  ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; the terms and conditions of this license.			    ;                              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES, ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A 	    ;             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.		    ;                       D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; A Simple Task Manager v1.00 by Ross Fosler  			    ;                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; 								    ;                                                                  D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; Variables used for the task manager. 				    ;                                 D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	CONSTANT	TABLE_DEPTH = 0x04                                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	EXTERN	TaskManager                                                              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	                                                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	TASK1_NAME		; Include any pre-defined tasks	                              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	EXTERN	TASK1_NAME                                                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	TASK2_NAME			                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	EXTERN	TASK2_NAME                                                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	TASK3_NAME			                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	EXTERN	TASK3_NAME                                                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	TASK4_NAME			                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	EXTERN	TASK4_NAME                                                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SETUP_NAME                                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	EXTERN	SETUP_NAME                                                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ACS		udata_acs	                                                                  D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           TASK_POINTER	res	1	; Pointer to running task                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           TABLE_POINTER	res	1	; Pointer to data tables                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           TASK_COUNTER	res	1	; Number of tasks                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL 	TASK_POINTER, TABLE_POINTER, TASK_COUNTER                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ALT_W0		res	1	; An alternate WREG                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ALT_STATUS	res	1	; An alternate STATUS                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_FSR2L		; An alternate FSR2L                                          D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ALT_FSR2L	res	1                                                                  D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	ALT_FSR2L                                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_FSR2H		; An alternate FSR2H                                          D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ALT_FSR2H	res	1                                                                  D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            	GLOBAL	ALT_FSR2H                                                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           TASK_COMMAND	res	1	; Register globaly available to control                       D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           				; tasks                                                                      D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           TASK_BUFFER	res	1	; Buffer to hold a new task                                    D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	TASK_COMMAND, TASK_BUFFER, ALT_W0                                        D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	ALT_STATUS                                                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           TBL		udata		; Tables                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           TASK_TABLE	res TABLE_DEPTH	; Table for holding pointers                          D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_WREG	res TABLE_DEPTH                                                      D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_STATUS	res TABLE_DEPTH                                                    D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           TASK_INFO_TABLE	res TABLE_DEPTH	; Task number and priority table                 D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL 	TASK_TABLE, TASK_INFO_TABLE                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL 	BACKUP_WREG, BACKUP_STATUS                                              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_BSR                                                                  D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_BSR	res TABLE_DEPTH                                                       D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_BSR                                                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_FSR0L                                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_FSR0L	res TABLE_DEPTH                                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_FSR0L	                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_FSR0H                                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_FSR0H	res TABLE_DEPTH                                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_FSR0H                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_FSR1L                                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_FSR1L	res TABLE_DEPTH                                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_FSR1L                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_FSR1H                                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_FSR1H	res TABLE_DEPTH                                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_FSR1H                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_PRODH                                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_PRODH	res TABLE_DEPTH                                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_PRODH                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_PRODL                                                                D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_PRODL	res TABLE_DEPTH                                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_PRODL                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_TBLPTRU                                                              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_TBLPTRU	res TABLE_DEPTH                                                   D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_TBLPTRU                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_TBLPTRH                                                              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_TBLPTRH	res TABLE_DEPTH                                                   D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_TBLPTRH                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_TBLPTRL                                                              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_TBLPTRL	res TABLE_DEPTH                                                   D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_TBLPTRL                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_TABLAT                                                               D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_TABLAT	res TABLE_DEPTH                                                    D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_TABLAT                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_FSR2L		                                                              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_FSR2L	res TABLE_DEPTH                                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	GLOBAL	BACKUP_FSR2L                                                             D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            IFDEF	SAVE_FSR2H		                                                              D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           BACKUP_FSR2H	res TABLE_DEPTH                                                     D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            	GLOBAL	BACKUP_FSR2H                                                            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\var.inc
                                           	#include <macroins.inc>                                                         D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Some common macros for Golden Gate by Ross Fosler	                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; v1.00		01/05/01                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	brset	MYFILE, MYBIT, MYBANK, WHERE	; Bit tests                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	brclr	MYFILE, MYBIT, MYBANK, WHERE                                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffblt	MYFILE1, MYFILE2, MYBANK, WHERE	; Compare file w/ file                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffbgt	MYFILE1, MYFILE2, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffbeq	MYFILE1, MYFILE2, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffbne	MYFILE1, MYFILE2, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflblt	MYFILE1, MYLIT1, MYBANK, WHERE	; Compare file w/ literal                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflbgt	MYFILE1, MYLIT1, MYBANK, WHERE                                          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflbeq	MYFILE1, MYLIT1, MYBANK, WHERE                                          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflbne	MYFILE1, MYLIT1, MYBANK, WHERE                                          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	movlf	MYLIT, MYFILE, MYBANK		; Move literal to file                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	addff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; Add file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	addfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; Add file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	andff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; And file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	andfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; And file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	iorff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; Ior file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	iorfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; Ior file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	xorff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; Xor file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	xorfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; Xor file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           W	equ	0	; To WREG                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           F	equ	1	; To FILE                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           A	equ	0	; Use Access Bank                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           B	equ	1	; Use BSR                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           WREG2	equ	PRODH                                                                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           WREG3	equ	PRODL                                                                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Common Branch Instructions **********************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	W is destroyed except for brset and brclr.                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		All branching is limited to 7 bits in either direction of the                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		PC, thus these branch instructions cannot reach all memory.                   D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** BRanch if bit is SET 					                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           brset	macro	MYFILE, MYBIT, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	btfsc	MYFILE, MYBIT, MYBANK                                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bra	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** BRanch if bit is CLeaR 		                                                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           brclr	macro	MYFILE, MYBIT, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	btfss	MYFILE, MYBIT, MYBANK                                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bra	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if Less Than 	                           D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 < F2 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffblt	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE1, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if Greater Than		                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 > F2 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffbgt	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE2, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if EQual	                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 = F2 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffbeq	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE2, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bz	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if Not Equal	                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 <> F2 THEN branch 				                                               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffbne	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE2, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bnz	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if Less Than	                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 < L1 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflblt	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE1, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if Greater Than                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 > L1 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflbgt	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	sublw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if EQual	                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 = L1 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflbeq	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	sublw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bz	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if Not Equal	                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 <> L1 THEN branch 				                                               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflbne	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	sublw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bnz	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Other Instructions ******************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** MOVe Literal to File ****************************************				          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	W is destroyed in this macro.                                           D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           movlf	macro	MYLIT, MYFILE, MYBANK                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT                                                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movwf	MYFILE, MYBANK                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** ADD File to File ********************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           addff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	addwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** ADD File to Literal *****************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           addfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	addwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** AND File to File ********************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           andff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	andwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** AND File to Literal *****************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           andfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	andwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Inclusive OR File to File ***********************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           iorff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	iorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Inclusive OR File to Literal ********************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           iorfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	iorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** XOR File to File ********************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           xorff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	xorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** XOR File to Literal *****************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           xorfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	xorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           TEST	CODE	0x00                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000000   d0ff     BRA       0x200          	bra	0x200	                                                                      D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           TEST2	CODE	0x08                                                                  D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000008   d0ff     BRA       0x208          	bra	0x208                                                                       D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           STRT	CODE	0x0200                                                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000200   ef15     GOTO      0x2a           	goto	TMSetup                                                                    D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000202   f000                                                                                                               
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           INT	CODE	0x0208                                                                  D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000208   ef06     GOTO      0x20c          	goto	TaskManager                                                                D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00020a   f001                                                                                                               
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           STP	CODE                                                                         D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ;This routine sets up all important registers for PIC OS2 to run                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ;properly.                                                                       D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           TMSetup	                                                                         D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                            IFDEF	SETUP_NAME                                                                D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00002a   ec53     CALL      0xa6,0x0       	call	SETUP_NAME		; Do some user setup                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00002c   f000                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00002e   0e04     MOVLW     0x4            	movlw	TIMER_PRESCALE		; Set Prescaler                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000030   6ed5     MOVWF     0xd5,0x0       	movwf	T0CON, A                                                                  D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000032   8cd5     BSF       0xd5,0x6,0x0   	bsf	T0CON, T08BIT, A	; Force 8-bit mode	                                        D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000034   8ed5     BSF       0xd5,0x7,0x0   	bsf	T0CON, TMR0ON, A	; Turn TMR0 on                                             D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000036   6a00     CLRF      0x0,0x0        	clrf	TASK_POINTER, A		; Init the important registers                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000038   6a01     CLRF      0x1,0x0        	clrf	TABLE_POINTER, A                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00003a   6a07     CLRF      0x7,0x0        	clrf	TASK_COMMAND, A                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00003c   6a08     CLRF      0x8,0x0        	clrf	TASK_BUFFER, A                                                             D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00003e   6a02     CLRF      0x2,0x0        	clrf	TASK_COUNTER, A                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000040   0e01     MOVLW     0x1            	movlw	TASK1			; Prime the task table                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000042   cfe8     MOVFF     0xfe8,0x80     	movff	WREG, TASK_TABLE                                                          D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000044   f080                                                                                                               
000046   0e08     MOVLW     0x8            	movlw	TASK2                                                                     D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000048   cfe8     MOVFF     0xfe8,0x81     	movff	WREG, TASK_TABLE + 1                                                      D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00004a   f081                                                                                                               
00004c   0e10     MOVLW     0x10           	movlw	TASK3                                                                     D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00004e   cfe8     MOVFF     0xfe8,0x82     	movff	WREG, TASK_TABLE + 2                                                      D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000050   f082                                                                                                               
000052   0e18     MOVLW     0x18           	movlw	TASK4                                                                     D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000054   cfe8     MOVFF     0xfe8,0x83     	movff	WREG, TASK_TABLE + 3                                                      D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000056   f083                                                                                                               
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                            IFDEF	TASK1_NAME			; Seed task1                                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000058   c080     MOVFF     0x80,0xffc     	movff	TASK_TABLE, STKPTR                                                        D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00005a   fffc                                                                                                               
00005c   0eaa     MOVLW     0xaa           	movlw	low TASK1_NAME		                                                          D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00005e   6efd     MOVWF     0xfd,0x0       	movwf	TOSL, A                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000060   0e00     MOVLW     0x0            	movlw	high TASK1_NAME                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000062   6efe     MOVWF     0xfe,0x0       	movwf	TOSH, A                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000064   6aff     CLRF      0xff,0x0       	clrf	TOSU, A                                                                    D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000066   2a02     INCF      0x2,0x1,0x0    	incf	TASK_COUNTER, F, A                                                         D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                            IFDEF	TASK2_NAME			; Seed task2                                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000068   c081     MOVFF     0x81,0xffc     	movff	TASK_TABLE+1, STKPTR                                                      D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00006a   fffc                                                                                                               
00006c   0eca     MOVLW     0xca           	movlw	low TASK2_NAME		                                                          D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00006e   6efd     MOVWF     0xfd,0x0       	movwf	TOSL, A                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000070   0e00     MOVLW     0x0            	movlw	high TASK2_NAME                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000072   6efe     MOVWF     0xfe,0x0       	movwf	TOSH, A                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000074   6aff     CLRF      0xff,0x0       	clrf	TOSU, A                                                                    D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000076   2a02     INCF      0x2,0x1,0x0    	incf	TASK_COUNTER, F, A                                                         D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                            IFDEF	TASK3_NAME			; Seed task3                                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movff	TASK_TABLE+2, STKPTR                                                      D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movlw	low TASK3_NAME		                                                          D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movwf	TOSL, A                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movlw	high TASK3_NAME                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movwf	TOSH, A                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	clrf	TOSU, A                                                                    D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	incf	TASK_COUNTER, F, A                                                         D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                            IFDEF	TASK4_NAME			; Seed task4                                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movff	TASK_TABLE+3, STKPTR                                                      D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movlw	low TASK4_NAME		                                                          D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movwf	TOSL, A                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movlw	high TASK4_NAME                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	movwf	TOSH, A                                                                   D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	clrf	TOSU, A                                                                    D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	incf	TASK_COUNTER, F, A                                                         D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000078   0e01     MOVLW     0x1            	movlw	TASK1			; Reset the stack pointer                                         D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00007a   6efc     MOVWF     0xfc,0x0       	movwf	STKPTR, A                                                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	                                                                                D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00007c   0e00     MOVLW     0x0            	movlw	high TASK_INFO_TABLE	; Setup priority                                     D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00007e   6eea     MOVWF     0xea,0x0       	movwf	FSR0H                                                                     D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000080   0e8c     MOVLW     0x8c           	movlw	low TASK_INFO_TABLE                                                       D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000082   6ee9     MOVWF     0xe9,0x0       	movwf	FSR0L                                                                     D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	                                                                                D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000084   0efc     MOVLW     0xfc           	movlw	((TASK1_TIME * 4) + 0x00)			                                              D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000086   6eee     MOVWF     0xee,0x0       	movwf	POSTINC0, A                                                               D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000088   0e09     MOVLW     0x9            	movlw	((TASK2_TIME * 4) + 0x01)	                                                D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00008a   6eee     MOVWF     0xee,0x0       	movwf	POSTINC0, A		                                                             D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00008c   0e02     MOVLW     0x2            	movlw	((TASK3_TIME * 4) + 0x02)                                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00008e   6eee     MOVWF     0xee,0x0       	movwf	POSTINC0, A                                                               D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000090   0e03     MOVLW     0x3            	movlw	((TASK4_TIME * 4) + 0x03)                                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000092   6eee     MOVWF     0xee,0x0       	movwf	POSTINC0, A                                                               D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000094   0e3f     MOVLW     0x3f           	movlw	TASK1_TIME		; Init the timer                                              D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000096   1ce8     COMF      0xe8,0x0,0x0   	comf	WREG, W, A                                                                 D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
000098   90e8     BCF       0xe8,0x0,0x0   	bcf	WREG, 0, A                                                                  D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00009a   92e8     BCF       0xe8,0x1,0x0   	bcf	WREG, 1, A                                                                  D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00009c   6ed6     MOVWF     0xd6,0x0       	movwf	TMR0L, A                                                                  D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
00009e   9ed0     BCF       0xd0,0x7,0x0   	bcf	RCON, IPEN, A		; No priority levels                                         D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
0000a0   8af2     BSF       0xf2,0x5,0x0   	bsf	INTCON, TMR0IE, A	; Enable timer 0 interrupt                                D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
0000a2   8ef2     BSF       0xf2,0x7,0x0   	bsf	INTCON, GIE, A		; Enable global interrupts                                  D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
0000a4   0012     RETURN    0x0            	return	0                                                                        D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           	END                                                                             D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\STARTUP.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ;        Software License Agreement				    ;                                     D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; The software supplied herewith by Microchip Technology 	    ;                  D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; Incorporated (the “Company”) for its PICmicro® Microcontroller is ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; intended and supplied to you, the Company’s customer, for use     ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; solely and exclusively on Microchip PICmicro Microcontroller	    ;             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; products. The software is owned by the Company and/or its         ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; supplier, and is protected under applicable copyright laws. All   ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; rights are reserved. Any use in violation of the foregoing 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; restrictions may subject the user to criminal sanctions under	    ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; applicable laws, as well as to civil liability for the breach of  ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; the terms and conditions of this license.			    ;                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES, ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A 	    ;             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.		    ;                       D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; A Simple Task Manager v1.00 by Ross Fosler  			    ;                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	#include <define.inc>                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;        Software License Agreement				    ;                                     D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The software supplied herewith by Microchip Technology 	    ;                  D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Incorporated (the “Company”) for its PICmicro® Microcontroller is ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; intended and supplied to you, the Company’s customer, for use     ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; solely and exclusively on Microchip PICmicro Microcontroller	    ;             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; products. The software is owned by the Company and/or its         ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; supplier, and is protected under applicable copyright laws. All   ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; rights are reserved. Any use in violation of the foregoing 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; restrictions may subject the user to criminal sanctions under	    ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; applicable laws, as well as to civil liability for the breach of  ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; the terms and conditions of this license.			    ;                              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES, ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A 	    ;             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.		    ;                       D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; A Simple Task Manager v1.00 by Ross Fosler  			    ;                           D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; This is a definition file used to incorporate tasks and 	    ;                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; priorities at the start of the task manager.			    ;                           D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The values after corispond to the position in the hardware stack               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; used by the tasks.  Position 0 is not valid since it is set to                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; always return a 0x0000 (reset).                                                D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK1	0x01                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK2	0x08                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK3	0x10                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK4	0x18                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The following defines the time allotted to the preloaded tasks.                D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The value 0x00 corisponds to a null task; values 0x01 through 0x3F             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; set the max allowed time for the task to run before it is                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; interrupted.                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK1_TIME	0x3F                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK2_TIME	0x02                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK3_TIME	0x00                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK4_TIME	0x00                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The following defines the names of the preloaded tasks.  Uncomment             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; or comment these as necessary for preloaded tasks.  There must                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; be at least one task to pre-load.                                              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK1_NAME	Task1                                                         D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK2_NAME	Task2                                                         D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;#DEFINE	TASK3_NAME	Task3Name                                                    D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;#DEFINE	TASK4_NAME	Task4Name                                                    D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; This value affects the task time.  Valid range from 0x00 to 0x07.              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TIMER_PRESCALE	0x04                                                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Set the name of the interrupt handler.  Comment out if none.                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;#DEFINE INT_HAND_NAME	InterruptHandler                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Set the name of the setup routine.  Comment out if none.                       D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SETUP_NAME	Setup                                                         D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Setup the SFRs to be managed by the task manager.  Comment out the             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; registers that are not shared across more than one task.  It is best           D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; to comment out as many as possible to reduce memory usage and                  D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; task manager execution length.                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR0H                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR0L                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR1H                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR1L                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR2H                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR2L                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_PRODH                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_PRODL                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_BSR                                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TBLPTRU                                                             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TBLPTRH                                                             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TBLPTRL                                                             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TABLAT                                                              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Setup the specific processor file to use.                                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	PROC_INCLUDE	P18C452.INC                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Uncomment if the device has the lfsr bug.                                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	LFSR_BUG                                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           	                                                                                D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           	#include PROC_INCLUDE		; Processor include file                                 D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                   LIST                                                                     D:\HDMD\APPNOTES\PIC_OS~1\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.10   Microchip Technology, Inc.   D:\HDMD\APPNOTES\PIC_OS~1\P18C452.INC
                                                   LIST                                                                     D:\HDMD\APPNOTES\PIC_OS~1\P18C452.INC
                                           	#include <macroins.inc>                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Some common macros for Golden Gate by Ross Fosler	                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; v1.00		01/05/01                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	brset	MYFILE, MYBIT, MYBANK, WHERE	; Bit tests                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	brclr	MYFILE, MYBIT, MYBANK, WHERE                                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffblt	MYFILE1, MYFILE2, MYBANK, WHERE	; Compare file w/ file                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffbgt	MYFILE1, MYFILE2, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffbeq	MYFILE1, MYFILE2, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffbne	MYFILE1, MYFILE2, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflblt	MYFILE1, MYLIT1, MYBANK, WHERE	; Compare file w/ literal                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflbgt	MYFILE1, MYLIT1, MYBANK, WHERE                                          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflbeq	MYFILE1, MYLIT1, MYBANK, WHERE                                          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflbne	MYFILE1, MYLIT1, MYBANK, WHERE                                          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	movlf	MYLIT, MYFILE, MYBANK		; Move literal to file                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	addff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; Add file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	addfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; Add file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	andff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; And file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	andfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; And file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	iorff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; Ior file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	iorfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; Ior file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	xorff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; Xor file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	xorfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; Xor file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           W	equ	0	; To WREG                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           F	equ	1	; To FILE                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           A	equ	0	; Use Access Bank                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           B	equ	1	; Use BSR                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           WREG2	equ	PRODH                                                                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           WREG3	equ	PRODL                                                                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Common Branch Instructions **********************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	W is destroyed except for brset and brclr.                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		All branching is limited to 7 bits in either direction of the                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		PC, thus these branch instructions cannot reach all memory.                   D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** BRanch if bit is SET 					                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           brset	macro	MYFILE, MYBIT, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	btfsc	MYFILE, MYBIT, MYBANK                                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bra	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** BRanch if bit is CLeaR 		                                                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           brclr	macro	MYFILE, MYBIT, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	btfss	MYFILE, MYBIT, MYBANK                                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bra	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if Less Than 	                           D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 < F2 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffblt	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE1, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if Greater Than		                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 > F2 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffbgt	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE2, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if EQual	                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 = F2 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffbeq	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE2, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bz	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if Not Equal	                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 <> F2 THEN branch 				                                               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffbne	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE2, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bnz	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if Less Than	                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 < L1 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflblt	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE1, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if Greater Than                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 > L1 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflbgt	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	sublw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if EQual	                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 = L1 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflbeq	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	sublw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bz	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if Not Equal	                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 <> L1 THEN branch 				                                               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflbne	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	sublw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bnz	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Other Instructions ******************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** MOVe Literal to File ****************************************				          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	W is destroyed in this macro.                                           D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           movlf	macro	MYLIT, MYFILE, MYBANK                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT                                                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movwf	MYFILE, MYBANK                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** ADD File to File ********************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           addff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	addwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** ADD File to Literal *****************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           addfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	addwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** AND File to File ********************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           andff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	andwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** AND File to Literal *****************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           andfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	andwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Inclusive OR File to File ***********************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           iorff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	iorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Inclusive OR File to Literal ********************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           iorfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	iorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** XOR File to File ********************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           xorff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	xorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** XOR File to Literal *****************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           xorfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	xorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           _TM_SCRATCH	UDATA                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           TEMP	res	1                                                                       D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	INT_HAND_NAME                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	INT_HAND_NAME                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_BSR                                                                  D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_BSR                                                               D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR0L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_FSR0L                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR0H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_FSR0H                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR1L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_FSR1L                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR1H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_FSR1H                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_PRODH                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_PRODH                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_PRODL                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_PRODL                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_FSR2L                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	ALT_FSR2L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_FSR2H                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	ALT_FSR2H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TBLPTRU                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_TBLPTRU                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TBLPTRH                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_TBLPTRH                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TBLPTRL                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_TBLPTRL                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TABLAT                                                               D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	BACKUP_TABLAT                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN 	TASK_TABLE, TASK_INFO_TABLE                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN 	BACKUP_WREG, BACKUP_STATUS                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN 	TASK_POINTER, TABLE_POINTER, TASK_COUNTER                               D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	TASK_COMMAND, TASK_BUFFER                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN	TASK_COMMAND, TASK_BUFFER, ALT_W0                                        D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	EXTERN 	ALT_STATUS                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	LFSR_BUG		; Macro to work around lfsr bug                                 D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ldfsr2	macro	JUNK, MYLIT                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00021e   cfe8     MOVFF     0xfe8,0xc4     	movff	WREG, TEMP                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000220   f0c4                                                                                                               
000232   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000234   f0c4                                                                                                               
000246   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000248   f0c4                                                                                                               
00025a   cfe8     MOVFF     0xfe8,0xc4                                                                                      
00025c   f0c4                                                                                                               
00026e   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000270   f0c4                                                                                                               
000282   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000284   f0c4                                                                                                               
000296   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000298   f0c4                                                                                                               
0002aa   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0002ac   f0c4                                                                                                               
0002be   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0002c0   f0c4                                                                                                               
0002d2   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0002d4   f0c4                                                                                                               
0002e6   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0002e8   f0c4                                                                                                               
0002fa   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0002fc   f0c4                                                                                                               
00030e   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000310   f0c4                                                                                                               
000322   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000324   f0c4                                                                                                               
000336   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000338   f0c4                                                                                                               
00034a   cfe8     MOVFF     0xfe8,0xc4                                                                                      
00034c   f0c4                                                                                                               
00036a   cfe8     MOVFF     0xfe8,0xc4                                                                                      
00036c   f0c4                                                                                                               
000390   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000392   f0c4                                                                                                               
0003b0   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0003b2   f0c4                                                                                                               
0003c4   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0003c6   f0c4                                                                                                               
0003d8   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0003da   f0c4                                                                                                               
0003ec   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0003ee   f0c4                                                                                                               
000400   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000402   f0c4                                                                                                               
000414   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000416   f0c4                                                                                                               
000428   cfe8     MOVFF     0xfe8,0xc4                                                                                      
00042a   f0c4                                                                                                               
00043c   cfe8     MOVFF     0xfe8,0xc4                                                                                      
00043e   f0c4                                                                                                               
000450   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000452   f0c4                                                                                                               
000464   cfe8     MOVFF     0xfe8,0xc4                                                                                      
000466   f0c4                                                                                                               
000478   cfe8     MOVFF     0xfe8,0xc4                                                                                      
00047a   f0c4                                                                                                               
00048c   cfe8     MOVFF     0xfe8,0xc4                                                                                      
00048e   f0c4                                                                                                               
0004a0   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0004a2   f0c4                                                                                                               
0004b4   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0004b6   f0c4                                                                                                               
0004c8   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0004ca   f0c4                                                                                                               
0004dc   cfe8     MOVFF     0xfe8,0xc4                                                                                      
0004de   f0c4                                                                                                               
000222   0e00     MOVLW     0x0            	movlw	high MYLIT                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000236   0e00     MOVLW     0x0                                                                                             
00024a   0e00     MOVLW     0x0                                                                                             
00025e   0e00     MOVLW     0x0                                                                                             
000272   0e00     MOVLW     0x0                                                                                             
000286   0e00     MOVLW     0x0                                                                                             
00029a   0e00     MOVLW     0x0                                                                                             
0002ae   0e00     MOVLW     0x0                                                                                             
0002c2   0e00     MOVLW     0x0                                                                                             
0002d6   0e00     MOVLW     0x0                                                                                             
0002ea   0e00     MOVLW     0x0                                                                                             
0002fe   0e00     MOVLW     0x0                                                                                             
000312   0e00     MOVLW     0x0                                                                                             
000326   0e00     MOVLW     0x0                                                                                             
00033a   0e00     MOVLW     0x0                                                                                             
00034e   0e00     MOVLW     0x0                                                                                             
00036e   0e00     MOVLW     0x0                                                                                             
000394   0e00     MOVLW     0x0                                                                                             
0003b4   0e00     MOVLW     0x0                                                                                             
0003c8   0e00     MOVLW     0x0                                                                                             
0003dc   0e00     MOVLW     0x0                                                                                             
0003f0   0e00     MOVLW     0x0                                                                                             
000404   0e00     MOVLW     0x0                                                                                             
000418   0e00     MOVLW     0x0                                                                                             
00042c   0e00     MOVLW     0x0                                                                                             
000440   0e00     MOVLW     0x0                                                                                             
000454   0e00     MOVLW     0x0                                                                                             
000468   0e00     MOVLW     0x0                                                                                             
00047c   0e00     MOVLW     0x0                                                                                             
000490   0e00     MOVLW     0x0                                                                                             
0004a4   0e00     MOVLW     0x0                                                                                             
0004b8   0e00     MOVLW     0x0                                                                                             
0004cc   0e00     MOVLW     0x0                                                                                             
0004e0   0e00     MOVLW     0x0                                                                                             
000224   6eda     MOVWF     0xda,0x0       	movwf	FSR2H                                                                     D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000238   6eda     MOVWF     0xda,0x0                                                                                        
00024c   6eda     MOVWF     0xda,0x0                                                                                        
000260   6eda     MOVWF     0xda,0x0                                                                                        
000274   6eda     MOVWF     0xda,0x0                                                                                        
000288   6eda     MOVWF     0xda,0x0                                                                                        
00029c   6eda     MOVWF     0xda,0x0                                                                                        
0002b0   6eda     MOVWF     0xda,0x0                                                                                        
0002c4   6eda     MOVWF     0xda,0x0                                                                                        
0002d8   6eda     MOVWF     0xda,0x0                                                                                        
0002ec   6eda     MOVWF     0xda,0x0                                                                                        
000300   6eda     MOVWF     0xda,0x0                                                                                        
000314   6eda     MOVWF     0xda,0x0                                                                                        
000328   6eda     MOVWF     0xda,0x0                                                                                        
00033c   6eda     MOVWF     0xda,0x0                                                                                        
000350   6eda     MOVWF     0xda,0x0                                                                                        
000370   6eda     MOVWF     0xda,0x0                                                                                        
000396   6eda     MOVWF     0xda,0x0                                                                                        
0003b6   6eda     MOVWF     0xda,0x0                                                                                        
0003ca   6eda     MOVWF     0xda,0x0                                                                                        
0003de   6eda     MOVWF     0xda,0x0                                                                                        
0003f2   6eda     MOVWF     0xda,0x0                                                                                        
000406   6eda     MOVWF     0xda,0x0                                                                                        
00041a   6eda     MOVWF     0xda,0x0                                                                                        
00042e   6eda     MOVWF     0xda,0x0                                                                                        
000442   6eda     MOVWF     0xda,0x0                                                                                        
000456   6eda     MOVWF     0xda,0x0                                                                                        
00046a   6eda     MOVWF     0xda,0x0                                                                                        
00047e   6eda     MOVWF     0xda,0x0                                                                                        
000492   6eda     MOVWF     0xda,0x0                                                                                        
0004a6   6eda     MOVWF     0xda,0x0                                                                                        
0004ba   6eda     MOVWF     0xda,0x0                                                                                        
0004ce   6eda     MOVWF     0xda,0x0                                                                                        
0004e2   6eda     MOVWF     0xda,0x0                                                                                        
000226   0e80     MOVLW     0x80           	movlw	low MYLIT                                                                 D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00023a   0e84     MOVLW     0x84                                                                                            
00024e   0e88     MOVLW     0x88                                                                                            
000262   0e90     MOVLW     0x90                                                                                            
000276   0e98     MOVLW     0x98                                                                                            
00028a   0e94     MOVLW     0x94                                                                                            
00029e   0ea0     MOVLW     0xa0                                                                                            
0002b2   0e9c     MOVLW     0x9c                                                                                            
0002c6   0ec0     MOVLW     0xc0                                                                                            
0002da   0ebc     MOVLW     0xbc                                                                                            
0002ee   0ea4     MOVLW     0xa4                                                                                            
000302   0ea8     MOVLW     0xa8                                                                                            
000316   0eac     MOVLW     0xac                                                                                            
00032a   0eb0     MOVLW     0xb0                                                                                            
00033e   0eb4     MOVLW     0xb4                                                                                            
000352   0eb8     MOVLW     0xb8                                                                                            
000372   0e8c     MOVLW     0x8c                                                                                            
000398   0e8c     MOVLW     0x8c                                                                                            
0003b8   0e80     MOVLW     0x80                                                                                            
0003cc   0e84     MOVLW     0x84                                                                                            
0003e0   0e88     MOVLW     0x88                                                                                            
0003f4   0e90     MOVLW     0x90                                                                                            
000408   0e98     MOVLW     0x98                                                                                            
00041c   0e94     MOVLW     0x94                                                                                            
000430   0ea0     MOVLW     0xa0                                                                                            
000444   0e9c     MOVLW     0x9c                                                                                            
000458   0ec0     MOVLW     0xc0                                                                                            
00046c   0ebc     MOVLW     0xbc                                                                                            
000480   0ea4     MOVLW     0xa4                                                                                            
000494   0ea8     MOVLW     0xa8                                                                                            
0004a8   0eac     MOVLW     0xac                                                                                            
0004bc   0eb0     MOVLW     0xb0                                                                                            
0004d0   0eb4     MOVLW     0xb4                                                                                            
0004e4   0eb8     MOVLW     0xb8                                                                                            
000228   6ed9     MOVWF     0xd9,0x0       	movwf	FSR2L                                                                     D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00023c   6ed9     MOVWF     0xd9,0x0                                                                                        
000250   6ed9     MOVWF     0xd9,0x0                                                                                        
000264   6ed9     MOVWF     0xd9,0x0                                                                                        
000278   6ed9     MOVWF     0xd9,0x0                                                                                        
00028c   6ed9     MOVWF     0xd9,0x0                                                                                        
0002a0   6ed9     MOVWF     0xd9,0x0                                                                                        
0002b4   6ed9     MOVWF     0xd9,0x0                                                                                        
0002c8   6ed9     MOVWF     0xd9,0x0                                                                                        
0002dc   6ed9     MOVWF     0xd9,0x0                                                                                        
0002f0   6ed9     MOVWF     0xd9,0x0                                                                                        
000304   6ed9     MOVWF     0xd9,0x0                                                                                        
000318   6ed9     MOVWF     0xd9,0x0                                                                                        
00032c   6ed9     MOVWF     0xd9,0x0                                                                                        
000340   6ed9     MOVWF     0xd9,0x0                                                                                        
000354   6ed9     MOVWF     0xd9,0x0                                                                                        
000374   6ed9     MOVWF     0xd9,0x0                                                                                        
00039a   6ed9     MOVWF     0xd9,0x0                                                                                        
0003ba   6ed9     MOVWF     0xd9,0x0                                                                                        
0003ce   6ed9     MOVWF     0xd9,0x0                                                                                        
0003e2   6ed9     MOVWF     0xd9,0x0                                                                                        
0003f6   6ed9     MOVWF     0xd9,0x0                                                                                        
00040a   6ed9     MOVWF     0xd9,0x0                                                                                        
00041e   6ed9     MOVWF     0xd9,0x0                                                                                        
000432   6ed9     MOVWF     0xd9,0x0                                                                                        
000446   6ed9     MOVWF     0xd9,0x0                                                                                        
00045a   6ed9     MOVWF     0xd9,0x0                                                                                        
00046e   6ed9     MOVWF     0xd9,0x0                                                                                        
000482   6ed9     MOVWF     0xd9,0x0                                                                                        
000496   6ed9     MOVWF     0xd9,0x0                                                                                        
0004aa   6ed9     MOVWF     0xd9,0x0                                                                                        
0004be   6ed9     MOVWF     0xd9,0x0                                                                                        
0004d2   6ed9     MOVWF     0xd9,0x0                                                                                        
0004e6   6ed9     MOVWF     0xd9,0x0                                                                                        
00022a   c0c4     MOVFF     0xc4,0xfe8     	movff	TEMP, WREG                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00022c   ffe8                                                                                                               
00023e   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000240   ffe8                                                                                                               
000252   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000254   ffe8                                                                                                               
000266   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000268   ffe8                                                                                                               
00027a   c0c4     MOVFF     0xc4,0xfe8                                                                                      
00027c   ffe8                                                                                                               
00028e   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000290   ffe8                                                                                                               
0002a2   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0002a4   ffe8                                                                                                               
0002b6   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0002b8   ffe8                                                                                                               
0002ca   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0002cc   ffe8                                                                                                               
0002de   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0002e0   ffe8                                                                                                               
0002f2   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0002f4   ffe8                                                                                                               
000306   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000308   ffe8                                                                                                               
00031a   c0c4     MOVFF     0xc4,0xfe8                                                                                      
00031c   ffe8                                                                                                               
00032e   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000330   ffe8                                                                                                               
000342   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000344   ffe8                                                                                                               
000356   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000358   ffe8                                                                                                               
000376   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000378   ffe8                                                                                                               
00039c   c0c4     MOVFF     0xc4,0xfe8                                                                                      
00039e   ffe8                                                                                                               
0003bc   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0003be   ffe8                                                                                                               
0003d0   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0003d2   ffe8                                                                                                               
0003e4   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0003e6   ffe8                                                                                                               
0003f8   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0003fa   ffe8                                                                                                               
00040c   c0c4     MOVFF     0xc4,0xfe8                                                                                      
00040e   ffe8                                                                                                               
000420   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000422   ffe8                                                                                                               
000434   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000436   ffe8                                                                                                               
000448   c0c4     MOVFF     0xc4,0xfe8                                                                                      
00044a   ffe8                                                                                                               
00045c   c0c4     MOVFF     0xc4,0xfe8                                                                                      
00045e   ffe8                                                                                                               
000470   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000472   ffe8                                                                                                               
000484   c0c4     MOVFF     0xc4,0xfe8                                                                                      
000486   ffe8                                                                                                               
000498   c0c4     MOVFF     0xc4,0xfe8                                                                                      
00049a   ffe8                                                                                                               
0004ac   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0004ae   ffe8                                                                                                               
0004c0   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0004c2   ffe8                                                                                                               
0004d4   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0004d6   ffe8                                                                                                               
0004e8   c0c4     MOVFF     0xc4,0xfe8                                                                                      
0004ea   ffe8                                                                                                               
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ELSE                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ldfsr2	macro 	_FSR, _REG                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	lfsr	_FSR, _REG                                                                 D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           TM	CODE	                                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           TaskManager                                                                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	GLOBAL	TaskManager                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Stop the Timer **************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00020c   9ed5     BCF       0xd5,0x7,0x0   	bcf	T0CON, TMR0ON, A	; Stop the timer                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *********************************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Save Important Data *********************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00020e   6e03     MOVWF     0x3,0x0        	movwf	ALT_W0, A		; Copy WREG                                                    D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000210   cfd8     MOVFF     0xfd8,0x4      	movff	STATUS, ALT_STATUS	; Copy STATUS                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000212   f004                                                                                                               
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Test the Interrupt Source ***                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	INT_HAND_NAME                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	btfss	INTCON, TMR0IF, A                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	goto	INT_HAND_NAME		; Check other interrupt sources		                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *********************************		                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000214   5001     MOVF      0x1,0x0,0x0    	movf	TABLE_POINTER, W, A                                                        D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000216   cfd9     MOVFF     0xfd9,0x5      	movff	FSR2L, ALT_FSR2L                                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000218   f005                                                                                                               
                                            ENDIF	                                                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00021a   cfda     MOVFF     0xfda,0x6      	movff	FSR2H, ALT_FSR2H                                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00021c   f006                                                                                                               
                                            ENDIF	                                                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, TASK_TABLE		; Save pointer to TOS                                     D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00022e   cffc     MOVFF     0xffc,0xfdb    	movff	STKPTR, PLUSW2		                                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000230   ffdb                                                                                                               
                                           	ldfsr2	2, BACKUP_WREG		; Save WREG                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000242   c003     MOVFF     0x3,0xfdb      	movff	ALT_W0, PLUSW2	                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000244   ffdb                                                                                                               
                                           	ldfsr2	2, BACKUP_STATUS	; Save STATUS	                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000256   c004     MOVFF     0x4,0xfdb      	movff	ALT_STATUS, PLUSW2	                                                       D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000258   ffdb                                                                                                               
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_BSR                                                                  D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_BSR		; Save BSR                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00026a   cfe0     MOVFF     0xfe0,0xfdb    	movff	BSR, PLUSW2		                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00026c   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR0H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR0H		; Save FSR0H                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00027e   cfea     MOVFF     0xfea,0xfdb    	movff	FSR0H, PLUSW2                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000280   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR0L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR0L		; Save FSR0L                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000292   cfe9     MOVFF     0xfe9,0xfdb    	movff	FSR0L, PLUSW2                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000294   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR1H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR1H		; Save FSR1H                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002a6   cfe2     MOVFF     0xfe2,0xfdb    	movff	FSR1H, PLUSW2                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002a8   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR1L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR1L		; Save FSR1L                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002ba   cfe1     MOVFF     0xfe1,0xfdb    	movff	FSR1L, PLUSW2                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002bc   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR2H		; Save FSR2H                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002ce   c006     MOVFF     0x6,0xfdb      	movff	ALT_FSR2H, PLUSW2                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002d0   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR2L		; Save FSR2L                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002e2   c005     MOVFF     0x5,0xfdb      	movff	ALT_FSR2L, PLUSW2                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002e4   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_PRODH                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_PRODH		; Save PRODH                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002f6   cff4     MOVFF     0xff4,0xfdb    	movff	PRODH, PLUSW2                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0002f8   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_PRODL                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_PRODL		; Save PRODL                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00030a   cff3     MOVFF     0xff3,0xfdb    	movff	PRODL, PLUSW2                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00030c   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TBLPTRU                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_TBLPTRU	; Save TBLPTRU                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00031e   cff8     MOVFF     0xff8,0xfdb    	movff	TBLPTRU, PLUSW2                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000320   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TBLPTRH                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_TBLPTRH	; Save TBLPTRH                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000332   cff7     MOVFF     0xff7,0xfdb    	movff	TBLPTRH, PLUSW2                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000334   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TBLPTRL                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_TBLPTRL	; Save TBLPTRL                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000346   cff6     MOVFF     0xff6,0xfdb    	movff	TBLPTRL, PLUSW2                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000348   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TABLAT                                                               D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_TABLAT	; Save TABLAT                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00035a   cff5     MOVFF     0xff5,0xfdb    	movff	TABLAT, PLUSW2                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00035c   ffdb                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *********************************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Incriment the Task Pointer **************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           IncrimentTaskPointer                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00035e   2a00     INCF      0x0,0x1,0x0    	incf	TASK_POINTER, F, A	; Incriment the task pointer                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *********************************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Reset Interrupt Flag ********************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000360   94f2     BCF       0xf2,0x2,0x0   	bcf	INTCON, TMR0IF, A	; Clear interrupt                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *********************************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Test the Task Pointer *******************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000362   5002     MOVF      0x2,0x0,0x0    	movf	TASK_COUNTER, W, A                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000364   6000     CPFSLT    0x0,0x0        	cpfslt	TASK_POINTER, A		; Is the pointer lt the counter?		                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000366   6a00     CLRF      0x0,0x0        	clrf	TASK_POINTER, A		; No, reset the pointer                                   D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *********************************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Find the task ***************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000368   6af4     CLRF      0xf4,0x0       	clrf	WREG2, A                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, TASK_INFO_TABLE	; Set up pointer to priority table                    D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00037a   0e03     MOVLW     0x3            TstTsk	movlw	0x03			                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00037c   14de     ANDWF     0xde,0x0,0x0   	andwf	POSTINC2, W, A		; Mask off upper 6 bits, get task no#                     D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00037e   6200     CPFSEQ    0x0,0x0        	cpfseq	TASK_POINTER, A		; Does the task numbers match?                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000380   d002     BRA       0x386          	bra	NxtTsk			; No                                                               D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000382   cff4     MOVFF     0xff4,0x1      	movff	WREG2, TABLE_POINTER	; Yes, store pointer                                 D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000384   f001                                                                                                               
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000386   2af4     INCF      0xf4,0x1,0x0   NxtTsk	incf	WREG2, F, A		; Check the next task                                   D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000388   0e04     MOVLW     0x4            	movlw	0x04                                                                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00038a   62f4     CPFSEQ    0xf4,0x0       	cpfseq	WREG2, A		; Is the last possible task checked?                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00038c   d7f6     BRA       0x37a          	bra	TstTsk	                                                                     D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00038e   5001     MOVF      0x1,0x0,0x0    	movf	TABLE_POINTER, W, A                                                        D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *********************************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Set the Priority ************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           SetPriorityTimer                                                                 D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, TASK_INFO_TABLE	; Set up pointer to priority table                    D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003a0   50db     MOVF      0xdb,0x0,0x0   	movf	PLUSW2, W, A                                                               D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003a2   0bfc     ANDLW     0xfc           	andlw	0xFC			; Pull out priority bits                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003a4   e0dc     BZ        0x35e          	bz	IncrimentTaskPointer	; Goto next task if no priority                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003a6   1ce8     COMF      0xe8,0x0,0x0   	comf	WREG, W, A		; Invert and set TMR0                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003a8   90e8     BCF       0xe8,0x0,0x0   	bcf	WREG, 0, A                                                                  D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003aa   92e8     BCF       0xe8,0x1,0x0   	bcf	WREG, 1, A                                                                  D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003ac   6ed6     MOVWF     0xd6,0x0       	movwf	TMR0L, A	                                                                 D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *********************************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Restore the Saved data ******************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           RecallSavedData                                                                  D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	GLOBAL	RecallSavedData                                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003ae   5001     MOVF      0x1,0x0,0x0    	movf	TABLE_POINTER, W, A	                                                       D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, TASK_TABLE		; Restore pointer to TOS                                  D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003c0   cfdb     MOVFF     0xfdb,0xffc    	movff	PLUSW2, STKPTR 		                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003c2   fffc                                                                                                               
                                           	ldfsr2	2, BACKUP_WREG		; Restore WREG                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003d4   cfdb     MOVFF     0xfdb,0x3      	movff	PLUSW2, ALT_W0                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003d6   f003                                                                                                               
                                           	ldfsr2	2, BACKUP_STATUS	; Restore STATUS	                                       D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003e8   cfdb     MOVFF     0xfdb,0xfd8    	movff	PLUSW2, STATUS                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003ea   ffd8                                                                                                               
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_BSR                                                                  D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_BSR		; Restore BSR                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003fc   cfdb     MOVFF     0xfdb,0xfe0    	movff	PLUSW2, BSR                                                               D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0003fe   ffe0                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR0H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR0H		; Restore FSR0H                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000410   cfdb     MOVFF     0xfdb,0xfea    	movff	PLUSW2, FSR0H                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000412   ffea                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR0L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR0L		; Restore FSR0L                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000424   cfdb     MOVFF     0xfdb,0xfe9    	movff	PLUSW2, FSR0L                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000426   ffe9                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR1H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR1H		; Restore FSR1H                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000438   cfdb     MOVFF     0xfdb,0xfe2    	movff	PLUSW2, FSR1H                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00043a   ffe2                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR1L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR1L		; Restore FSR1L                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00044c   cfdb     MOVFF     0xfdb,0xfe1    	movff	PLUSW2, FSR1L                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00044e   ffe1                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2H                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR2H		; Restore FSR2H                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000460   cfdb     MOVFF     0xfdb,0x6      	movff	PLUSW2, ALT_FSR2H                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000462   f006                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_FSR2L		; Restore FSR2L                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000474   cfdb     MOVFF     0xfdb,0x5      	movff	PLUSW2, ALT_FSR2L                                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000476   f005                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_PRODH                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_PRODH		; Restore PRODH                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
000488   cfdb     MOVFF     0xfdb,0xff4    	movff	PLUSW2, PRODH                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00048a   fff4                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_PRODL                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_PRODL		; Restore PRODL                                         D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00049c   cfdb     MOVFF     0xfdb,0xff3    	movff	PLUSW2, PRODL                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
00049e   fff3                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TBLPTRU                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_TBLPTRU	; Restore TBLPTRU                                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004b0   cfdb     MOVFF     0xfdb,0xff8    	movff	PLUSW2, TBLPTRU                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004b2   fff8                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TBLPTRH                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_TBLPTRH	; Restore TBLPTRH                                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004c4   cfdb     MOVFF     0xfdb,0xff7    	movff	PLUSW2, TBLPTRH                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004c6   fff7                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TBLPTRL                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_TBLPTRL	; Restore TBLPTRL                                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004d8   cfdb     MOVFF     0xfdb,0xff6    	movff	PLUSW2, TBLPTRL                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004da   fff6                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_TABLAT                                                               D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	ldfsr2	2, BACKUP_TABLAT	; Restore TABLAT                                        D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004ec   cfdb     MOVFF     0xfdb,0xff5    	movff	PLUSW2, TABLAT                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004ee   fff5                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2H	                                                               D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004f0   c006     MOVFF     0x6,0xfda      	movff	ALT_FSR2H, FSR2H                                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004f2   ffda                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                            IFDEF	SAVE_FSR2L                                                                D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004f4   c005     MOVFF     0x5,0xfd9      	movff	ALT_FSR2L, FSR2L                                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004f6   ffd9                                                                                                               
                                            ENDIF                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004f8   c003     MOVFF     0x3,0xfe8      	movff	ALT_W0, WREG                                                              D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004fa   ffe8                                                                                                               
                                           ; *********************************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *** Start the Timer *************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004fc   8ed5     BSF       0xd5,0x7,0x0   	bsf	T0CON, TMR0ON, A	; Start the timer                                          D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *********************************************************                      D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
0004fe   0010     RETFIE    0x0            	retfie	0                                                                        D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           	END                                                                             D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TM.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;        Software License Agreement				    ;                                     D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; The software supplied herewith by Microchip Technology 	    ;                  D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; Incorporated (the “Company”) for its PICmicro® Microcontroller is ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; intended and supplied to you, the Company’s customer, for use     ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; solely and exclusively on Microchip PICmicro Microcontroller	    ;             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; products. The software is owned by the Company and/or its         ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; supplier, and is protected under applicable copyright laws. All   ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; rights are reserved. Any use in violation of the foregoing 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; restrictions may subject the user to criminal sanctions under	    ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; applicable laws, as well as to civil liability for the breach of  ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; the terms and conditions of this license.			    ;                              D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES, ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A 	    ;             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.		    ;                       D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; A Simple Task Manager v1.00 by Ross Fosler 			    ;                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; 								    ;                                                                  D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; This is a small demonstration of the task manager.		    ;                      D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	#include <define.inc>		; Definitions                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;        Software License Agreement				    ;                                     D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The software supplied herewith by Microchip Technology 	    ;                  D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Incorporated (the “Company”) for its PICmicro® Microcontroller is ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; intended and supplied to you, the Company’s customer, for use     ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; solely and exclusively on Microchip PICmicro Microcontroller	    ;             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; products. The software is owned by the Company and/or its         ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; supplier, and is protected under applicable copyright laws. All   ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; rights are reserved. Any use in violation of the foregoing 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; restrictions may subject the user to criminal sanctions under	    ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; applicable laws, as well as to civil liability for the breach of  ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; the terms and conditions of this license.			    ;                              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES, ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A 	    ;             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.		    ;                       D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; A Simple Task Manager v1.00 by Ross Fosler  			    ;                           D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; This is a definition file used to incorporate tasks and 	    ;                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; priorities at the start of the task manager.			    ;                           D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The values after corispond to the position in the hardware stack               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; used by the tasks.  Position 0 is not valid since it is set to                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; always return a 0x0000 (reset).                                                D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK1	0x01                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK2	0x08                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK3	0x10                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK4	0x18                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The following defines the time allotted to the preloaded tasks.                D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The value 0x00 corisponds to a null task; values 0x01 through 0x3F             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; set the max allowed time for the task to run before it is                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; interrupted.                                                                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK1_TIME	0x3F                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK2_TIME	0x02                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK3_TIME	0x00                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK4_TIME	0x00                                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; The following defines the names of the preloaded tasks.  Uncomment             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; or comment these as necessary for preloaded tasks.  There must                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; be at least one task to pre-load.                                              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK1_NAME	Task1                                                         D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TASK2_NAME	Task2                                                         D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;#DEFINE	TASK3_NAME	Task3Name                                                    D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;#DEFINE	TASK4_NAME	Task4Name                                                    D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; This value affects the task time.  Valid range from 0x00 to 0x07.              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	TIMER_PRESCALE	0x04                                                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Set the name of the interrupt handler.  Comment out if none.                   D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ;#DEFINE INT_HAND_NAME	InterruptHandler                                          D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Set the name of the setup routine.  Comment out if none.                       D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SETUP_NAME	Setup                                                         D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Setup the SFRs to be managed by the task manager.  Comment out the             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; registers that are not shared across more than one task.  It is best           D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; to comment out as many as possible to reduce memory usage and                  D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; task manager execution length.                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR0H                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR0L                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR1H                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR1L                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR2H                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_FSR2L                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_PRODH                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_PRODL                                                               D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_BSR                                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TBLPTRU                                                             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TBLPTRH                                                             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TBLPTRL                                                             D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	SAVE_TABLAT                                                              D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Setup the specific processor file to use.                                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	PROC_INCLUDE	P18C452.INC                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; Uncomment if the device has the lfsr bug.                                      D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           #DEFINE	LFSR_BUG                                                                 D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           	                                                                                D:\HDMD\APPNOTES\PIC_OS~1\define.inc
                                           	#include PROC_INCLUDE		; Processor include file                                 D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                   LIST                                                                     D:\HDMD\APPNOTES\PIC_OS~1\P18C452.INC
                                           ; P18C452.INC  Standard Header File, Version 0.10   Microchip Technology, Inc.   D:\HDMD\APPNOTES\PIC_OS~1\P18C452.INC
                                                   LIST                                                                     D:\HDMD\APPNOTES\PIC_OS~1\P18C452.INC
                                           	#include macroins.inc		; Complex p18 instructions                               D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Some common macros for Golden Gate by Ross Fosler	                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; v1.00		01/05/01                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	brset	MYFILE, MYBIT, MYBANK, WHERE	; Bit tests                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	brclr	MYFILE, MYBIT, MYBANK, WHERE                                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffblt	MYFILE1, MYFILE2, MYBANK, WHERE	; Compare file w/ file                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffbgt	MYFILE1, MYFILE2, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffbeq	MYFILE1, MYFILE2, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cffbne	MYFILE1, MYFILE2, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflblt	MYFILE1, MYLIT1, MYBANK, WHERE	; Compare file w/ literal                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflbgt	MYFILE1, MYLIT1, MYBANK, WHERE                                          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflbeq	MYFILE1, MYLIT1, MYBANK, WHERE                                          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	cflbne	MYFILE1, MYLIT1, MYBANK, WHERE                                          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	movlf	MYLIT, MYFILE, MYBANK		; Move literal to file                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	addff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; Add file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	addfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; Add file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	andff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; And file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	andfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; And file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	iorff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; Ior file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	iorfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; Ior file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	xorff	MYFILE1, MYFILE2, MYDIRECTION, MYBANK	; Xor file to file                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;	xorfl	MYFILE1, MYLIT1, MYDIRECTION, MYBANK	; Xor file to literal               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;                                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           W	equ	0	; To WREG                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           F	equ	1	; To FILE                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           A	equ	0	; Use Access Bank                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           B	equ	1	; Use BSR                                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           WREG2	equ	PRODH                                                                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           WREG3	equ	PRODL                                                                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Common Branch Instructions **********************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	W is destroyed except for brset and brclr.                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		All branching is limited to 7 bits in either direction of the                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		PC, thus these branch instructions cannot reach all memory.                   D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** BRanch if bit is SET 					                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           brset	macro	MYFILE, MYBIT, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	btfsc	MYFILE, MYBIT, MYBANK                                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bra	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** BRanch if bit is CLeaR 		                                                  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           brclr	macro	MYFILE, MYBIT, MYBANK, WHERE                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	btfss	MYFILE, MYBIT, MYBANK                                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bra	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if Less Than 	                           D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 < F2 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffblt	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE1, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if Greater Than		                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 > F2 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffbgt	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE2, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if EQual	                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 = F2 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffbeq	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE2, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bz	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with File and Branch if Not Equal	                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 <> F2 THEN branch 				                                               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cffbne	macro	MYFILE1, MYFILE2, MYBANK, WHERE                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE2, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bnz	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if Less Than	                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 < L1 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflblt	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	subwf	MYFILE1, W, MYBANK                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if Greater Than                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 > L1 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflbgt	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	sublw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bn	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if EQual	                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 = L1 THEN branch 				                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflbeq	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	sublw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bz	WHERE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Compare File with Literal and Branch if Not Equal	                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** IF F1 <> L1 THEN branch 				                                               D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           cflbne	macro	MYFILE1, MYLIT1, MYBANK, WHERE                                      D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE1, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	sublw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	bnz	WHERE                                                                       D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Other Instructions ******************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** MOVe Literal to File ****************************************				          D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	W is destroyed in this macro.                                           D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           movlf	macro	MYLIT, MYFILE, MYBANK                                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT                                                                     D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movwf	MYFILE, MYBANK                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** ADD File to File ********************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           addff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	addwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** ADD File to Literal *****************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           addfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	addwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** AND File to File ********************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           andff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	andwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** AND File to Literal *****************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           andfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	andwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Inclusive OR File to File ***********************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           iorff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	iorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** Inclusive OR File to Literal ********************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           iorfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	iorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** XOR File to File ********************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           xorff	macro	MYFILE1, MYFILE2, MYDIRECTION, MYBANK                                D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movf	MYFILE2, W, MYBANK                                                         D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	xorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *** XOR File to Literal *****************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; Notes:	Direction selects either the WREG or FILE1.                             D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ;		W is destroyed in this macro.                                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           xorfl	macro	MYFILE1, MYLIT1, MYDIRECTION, MYBANK                                 D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	movlw	MYLIT1                                                                    D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	xorwf	MYFILE1, MYDIRECTION, MYBANK                                              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************              D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           ; *****************************************************************************  D:\HDMD\APPNOTES\PIC_OS~1\macroins.inc
                                           	#include tm_inst.inc		; Task Manager instructions                               D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ;        Software License Agreement				    ;                                     D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; The software supplied herewith by Microchip Technology 	    ;                  D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; Incorporated (the “Company”) for its PICmicro® Microcontroller is ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; intended and supplied to you, the Company’s customer, for use     ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; solely and exclusively on Microchip PICmicro Microcontroller	    ;             D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; products. The software is owned by the Company and/or its         ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; supplier, and is protected under applicable copyright laws. All   ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; rights are reserved. Any use in violation of the foregoing 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; restrictions may subject the user to criminal sanctions under	    ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; applicable laws, as well as to civil liability for the breach of  ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; the terms and conditions of this license.			    ;                              D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES, ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A 	    ;             D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT, ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR 	    ;              D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.		    ;                       D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ;								    ;                                                                   D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; A Simple Task Manager v1.00 by Ross Fosler 			    ;                            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; 								    ;                                                                  D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; Commands for the Task Manager					    ;                                        D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; ***************************************************************** ;            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           swptsk	macro                                                                     D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
0000b2   84f2     BSF       0xf2,0x2,0x0   	bsf	INTCON, TMR0IF, A	; Force an interrupt                                      D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
0000ba   84f2     BSF       0xf2,0x2,0x0                                                                                    
                                           	endm	                                                                           D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           retfint	macro                                                                    D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
0000be   c004     MOVFF     0x4,0xfd8      	movff	ALT_STATUS, STATUS	; Return STATUS		                                      D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
0000c0   ffd8                                                                                                               
0000c2   c003     MOVFF     0x3,0xfe8      	movff	ALT_W0, WREG		; Return WREG                                               D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
0000c4   ffe8                                                                                                               
0000c6   8ed5     BSF       0xd5,0x7,0x0   	bsf	T0CON, TMR0ON, A	; Start the timer                                          D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
0000c8   0010     RETFIE    0x0            	retfie                                                                          D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           	endm                                                                            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\tm_inst.inc
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	EXTERN	ALT_STATUS, ALT_W0	; Must be included                                    D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           VAR1	UDATA_ACS                                                                   D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           INT1	CODE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; This is the interrupt handler for all interrupts other than TIMER0.            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; TIMER0 is dedicated to the task manager.  Interrupt latency in the             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; TM is 8 instruction cycles.  The STATUS and WREG is already saved.             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           InterruptHandler                                                                 D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;	btfsc	INTCON, INT0IF, A	; Check INT0                                           D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;	goto	HandleINT0                                                                D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;	btfsc	INTCON, RBIF, A		; Check interrupt on change                             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;	goto	HandleRBChange                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	                                                                                D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	retfint				; Macro to return from interrupt                                     D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	                                                                                D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	GLOBAL	InterruptHandler	; This line must me included                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           STP	CODE                                                                         D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; Use this section to include any setup code upon power-up or reset.             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           Setup                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000a6   6a93     CLRF      0x93,0x0       	clrf	TRISB                                                                      D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000a8   0012     RETURN    0x0            	return                                                                          D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	GLOBAL	Setup                                                                    D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           TSK1	CODE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; This is a demonstration task. Each task can trigger a task swap by             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; using the 'swptsk' macro. Otherwise, the task manger will                      D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; automatically swap at the end of its cycle.                                    D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           Task1	                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000aa   0000     NOP                      	nop                                                                             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000ac   0000     NOP                      	nop                                                                             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000ae   7a8a     BTG       0x8a,0x5,0x0   	btg	LATB,5                                                                      D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000b0   0000     NOP                      	nop                                                                             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	swptsk				; Force the TM to swap                                                D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000b4   7e8a     BTG       0x8a,0x7,0x0   	btg	LATB,7                                                                      D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000b6   7c8a     BTG       0x8a,0x6,0x0   	btg	LATB,6                                                                      D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000b8   0000     NOP                      	nop	                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	swptsk                                                                          D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000bc   d7f6     BRA       0xaa           	bra	Task1                                                                       D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	GLOBAL	Task1			; This line must me included                                     D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           TSK2	CODE                                                                        D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; This is a demonstration task.                                                  D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           Task2	                                                                           D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000ca   788a     BTG       0x8a,0x4,0x0   	btg	LATB,4                                                                      D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ;	swptsk				; Force the TM to swap                                               D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
0000cc   d7fe     BRA       0xca           	bra	Task2                                                                       D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	GLOBAL	Task2			; This line must me included                                     D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           ; *******************************************************************            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	END                                                                             D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                                                                                                            D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
                                           	                                                                                D:\HDMD\APPNOTES\PIC_OS~1\TESTPROG.ASM
